(()=>{var e={31:(e,n,r)=>{r(696).config(Object.assign({},r(24),r(216)(process.argv)))},216:e=>{const n=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;e.exports=function(e){return e.reduce((function(e,r){const t=r.match(n);return t&&(e[t[1]]=t[2]),e}),{})}},24:e=>{const n={};null!=process.env.DOTENV_CONFIG_ENCODING&&(n.encoding=process.env.DOTENV_CONFIG_ENCODING),null!=process.env.DOTENV_CONFIG_PATH&&(n.path=process.env.DOTENV_CONFIG_PATH),null!=process.env.DOTENV_CONFIG_DEBUG&&(n.debug=process.env.DOTENV_CONFIG_DEBUG),null!=process.env.DOTENV_CONFIG_OVERRIDE&&(n.override=process.env.DOTENV_CONFIG_OVERRIDE),null!=process.env.DOTENV_CONFIG_DOTENV_KEY&&(n.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY),e.exports=n},696:(e,n,r)=>{const t=r(58),o=r(72),s=r(558),i=r(968),a=r(404).version,c=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function u(e){console.log(`[dotenv@${a}][DEBUG] ${e}`)}function d(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function l(e,n){let r;try{r=new URL(n)}catch(e){if("ERR_INVALID_URL"===e.code){const e=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}const t=r.password;if(!t){const e=new Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}const o=r.searchParams.get("environment");if(!o){const e=new Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}const s=`DOTENV_VAULT_${o.toUpperCase()}`,i=e.parsed[s];if(!i){const e=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:i,key:t}}function p(e){let n=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(const r of e.path)t.existsSync(r)&&(n=r.endsWith(".vault")?r:`${r}.vault`);else n=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else n=o.resolve(process.cwd(),".env.vault");return t.existsSync(n)?n:null}const f={configDotenv:function(e){let n=o.resolve(process.cwd(),".env"),r="utf8";const i=Boolean(e&&e.debug);if(e){if(null!=e.path){let r=e.path;if(Array.isArray(r))for(const n of e.path)if(t.existsSync(n)){r=n;break}n=function(e){return"~"===e[0]?o.join(s.homedir(),e.slice(1)):e}(r)}null!=e.encoding?r=e.encoding:i&&u("No encoding is specified. UTF-8 is used by default")}try{const o=f.parse(t.readFileSync(n,{encoding:r}));let s=process.env;return e&&null!=e.processEnv&&(s=e.processEnv),f.populate(s,o,e),{parsed:o}}catch(e){return i&&u(`Failed to load ${n} ${e.message}`),{error:e}}},_configVault:function(e){console.log(`[dotenv@${a}][INFO] Loading env from encrypted .env.vault`);const n=f._parseVault(e);let r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),f.populate(r,n,e),{parsed:n}},_parseVault:function(e){const n=p(e),r=f.configDotenv({path:n});if(!r.parsed){const e=new Error(`MISSING_DATA: Cannot parse ${n} for an unknown reason`);throw e.code="MISSING_DATA",e}const t=d(e).split(","),o=t.length;let s;for(let e=0;e<o;e++)try{const n=l(r,t[e].trim());s=f.decrypt(n.ciphertext,n.key);break}catch(n){if(e+1>=o)throw n}return f.parse(s)},config:function(e){if(0===d(e).length)return f.configDotenv(e);const n=p(e);return n?f._configVault(e):(r=`You set DOTENV_KEY but you are missing a .env.vault file at ${n}. Did you forget to build it?`,console.log(`[dotenv@${a}][WARN] ${r}`),f.configDotenv(e));var r},decrypt:function(e,n){const r=Buffer.from(n.slice(-64),"hex");let t=Buffer.from(e,"base64");const o=t.subarray(0,12),s=t.subarray(-16);t=t.subarray(12,-16);try{const e=i.createDecipheriv("aes-256-gcm",r,o);return e.setAuthTag(s),`${e.update(t)}${e.final()}`}catch(e){const n=e instanceof RangeError,r="Invalid key length"===e.message,t="Unsupported state or unable to authenticate data"===e.message;if(n||r){const e=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(t){const e=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw e}},parse:function(e){const n={};let r,t=e.toString();for(t=t.replace(/\r\n?/gm,"\n");null!=(r=c.exec(t));){const e=r[1];let t=r[2]||"";t=t.trim();const o=t[0];t=t.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(t=t.replace(/\\n/g,"\n"),t=t.replace(/\\r/g,"\r")),n[e]=t}return n},populate:function(e,n,r={}){const t=Boolean(r&&r.debug),o=Boolean(r&&r.override);if("object"!=typeof n){const e=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(const r of Object.keys(n))Object.prototype.hasOwnProperty.call(e,r)?(!0===o&&(e[r]=n[r]),t&&u(!0===o?`"${r}" is already defined and WAS overwritten`:`"${r}" is already defined and was NOT overwritten`)):e[r]=n[r]}};e.exports.configDotenv=f.configDotenv,e.exports._configVault=f._configVault,e.exports._parseVault=f._parseVault,e.exports.config=f.config,e.exports.decrypt=f.decrypt,e.exports.parse=f.parse,e.exports.populate=f.populate,e.exports=f},968:e=>{"use strict";e.exports=require("crypto")},58:e=>{"use strict";e.exports=require("fs")},558:e=>{"use strict";e.exports=require("os")},72:e=>{"use strict";e.exports=require("path")},404:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.4.2","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3","decache":"^4.6.1","sinon":"^14.0.1","standard":"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0","tap":"^16.3.0","tar":"^6.1.11","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,r),s.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";const e=require("node:http");var n=r.n(e);r(31);const t=[{id:"0896215e-f320-418f-b678-5a070ce6dc58",username:"Brendan",age:17,hobbies:["coding","football"]},{id:"d4f8eba0-1e48-472b-9a81-5539103aa9c4",username:"Sashs",age:25,hobbies:["nodejs","javascript"]},{id:"5bf9101a-2aaf-4c16-a97f-7c93b2c68717",username:"Poul",age:42,hobbies:["golang","cuncurrency"]}],o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var s=r(968),i=r.n(s);const a={randomUUID:i().randomUUID},c=new Uint8Array(256);let u=c.length;function d(){return u>c.length-16&&(i().randomFillSync(c),u=0),c.slice(u,u+=16)}const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));const p=function(e,n,r){if(a.randomUUID&&!n&&!e)return a.randomUUID();const t=(e=e||{}).random||(e.rng||d)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n){r=r||0;for(let e=0;e<16;++e)n[r+e]=t[e];return n}return function(e,n=0){return l[e[n+0]]+l[e[n+1]]+l[e[n+2]]+l[e[n+3]]+"-"+l[e[n+4]]+l[e[n+5]]+"-"+l[e[n+6]]+l[e[n+7]]+"-"+l[e[n+8]]+l[e[n+9]]+"-"+l[e[n+10]]+l[e[n+11]]+l[e[n+12]]+l[e[n+13]]+l[e[n+14]]+l[e[n+15]]}(t)};function f(e){const n=t.find((n=>n.id===e));return n||!!n}function g(e){return 36===e.length&&function(e){return"string"==typeof e&&o.test(e)}(e)}function v(e){return function(e){return f(e)||!1}(e)}const{PORT:E}=process.env,N={"Content-Type":"application/json"};n().createServer((async(e,n)=>{const r=e.url?.split("/").splice(1),o=r?.length,s=e.method;if(r&&"api"===r[0]){if("GET"===s&&2===o&&r&&"users"==r[1]){const e=t;return n.writeHead(200,N),n.end(JSON.stringify(e))}if("GET"===s&&3===o&&r){if("user"==r[1]&&g(r[1])){const e=v(r[1]);return e?(n.writeHead(200,N),n.end(JSON.stringify(e))):(n.writeHead(404,N),n.end(JSON.stringify({error:"User Not Found"})))}return n.writeHead(400,N),n.end(JSON.stringify({error:"Invalid user ID"}))}if("POST"===s&&2===o&&r&&"user"===r[1]){let r="";return e.on("data",(e=>{r+=e.toString()})),e.on("end",(()=>{try{const{username:e,age:o,hobbies:s}=JSON.parse(r);if(e&&!isNaN(o)&&Array.isArray(s)){const i={id:p(),username:e,age:o,hobbies:s};console.log(r);const a=function(e){return function(e){return!f(e.id)&&(t.push(e),e)}(e)}(i);return n.writeHead(201,N),n.end(JSON.stringify(a))}throw new Error("Request does not contain required fields")}catch(e){return n.writeHead(400,N),n.end(JSON.stringify({error:e.message}))}}))}if("PUT"===s&&3===o&&r){if("user"==r[1]&&g(r[1])){const o=r[1];if(v(o)){let r="";return e.on("data",(e=>{r+=e.toString()})),e.on("end",(()=>{try{const{username:e,age:s,hobbies:i}=JSON.parse(r),a={id:o,username:e,age:s,hobbies:i};if(e&&!isNaN(s)&&Array.isArray(i))return function(e){const n=f(e.id);if(!n)return!1;const r=t.indexOf(n);t[r]=e}(a),n.writeHead(200,N),n.end(JSON.stringify({message:"User updated successfully"}));throw new Error("Request does not contain required fields")}catch(e){return n.writeHead(400,N),n.end(JSON.stringify({error:e.message}))}}))}return n.writeHead(404,N),n.end(JSON.stringify({error:"User Not Found"}))}return n.writeHead(400,N),n.end(JSON.stringify({error:"Invalid user ID"}))}if("DELETE"===s&&3===o&&r){if("user"==r[1]&&g(r[1])){const e=r[1];return v(e)?(function(e){const n=f(e);if(!n)return!1;const r=t.indexOf(n);t.splice(r,1)}(e),n.writeHead(204,N),n.end(JSON.stringify({message:"User removed successfully"}))):(n.writeHead(404,N),n.end(JSON.stringify({error:"User Not Found"})))}return n.writeHead(400,N),n.end(JSON.stringify({error:"Invalid user ID"}))}}n.writeHead(404,N),n.end(JSON.stringify({error:"Not Found!"}))})).listen(E,(()=>{console.log(`Server is running on port ${E}`)}))})()})();